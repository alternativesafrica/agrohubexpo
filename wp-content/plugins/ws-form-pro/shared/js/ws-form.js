!function($){"use strict";$.WS_Form=function(e){$.WS_Form.this=this,this.is_admin=this.set_is_admin(),this.user_roles=ws_form_settings.user_roles,this.form_interface=!1,this.group_data_cache=[],this.section_data_cache=[],this.field_data_cache=[],this.action_data_cache=[],this.validation_message_cache=[],this.invalid_feedback_cache=[],this.object_cache=[],this.object_cache.condition=[],this.object_cache.then=[],this.object_cache.else=[],this.action=!1,this.object_data_scratch=!1,this.form_history=[],this.history_index=0,this.framework="",this.column_resize_obj=!1,this.column_size_value=0,this.column_size_value_old=0,this.offset_value=0,this.offset_value_old=0,this.dragged_field=null,this.dragging=!1,this.next_sibling_id_old=null,this.section_id_old=null,this.group_id_old=null,this.section_repeatable_dragged=!1,this.section_repeatable_indexes={},this.checksum=!1,this.checksum_setTimeout=!1,this.published_checksum="",this.conditional=!1,this.conditional_data=!1,this.conditional_index_dragged_from=!1,this.conditional_actions_run_save=[],this.conditional_actions_run_submit=[],this.conditional_cache=!1,this.conditional_event_selector_to_condition=[],this.recaptchas=[],this.recaptchas_v2_default=[],this.recaptchas_v2_invisible=[],this.recaptchas_v3_default=[],this.recaptchas_conditions=[],this.timeout_recaptcha=5e3,this.signatures=[],this.signatures_by_name=[],this.timeout_signature=5e3,this.analytics_google=!1,this.timeout_analytics_google=5e3,this.analytics_function=[],this.debug_height=0,this.debug_field_id_bypass=[],this.debug_timer,this.debug_log_array=[],this.debug_error_array=[],this.debug_timeout,this.text_editor_index=1,this.code_editor_index=1,this.keydown=[],this.timeout_interval=100,this.api_call_queue=[],this.api_call_queue_running=!1,this.number_to_word=["nought","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen","twenty"],this.label_old="",this.submit=!1,this.action_js=[],this.form_draft=!1,this.submit_auto_populate=!1,this.form_id_prefix="wsf-",this.field_name_prefix=ws_form_settings.field_prefix,this.meta_key_options_cache=[],this.options_action_objects=[],this.options_action_cache=[],this.sidebar_conditions=[],this.sidebar_expanded_obj=!1,this.touch_device="ontouchend"in document,this.hash="",this.form_post_locked=!1,this.field_required_bypass=[],this.form_valid=!1,this.form_valid_old=null,this.form_validation_real_time_hooks=[],this.ecommerce_cart_price_type=[],this.has_ecommerce=!1,this.form_ecommerce_calculate_enabled=!0,this.progress=0,this.progress_percent="0%",this.progress_array=[],this.progress_class_complete="",this.progress_class_incomplete="";var t=document.createElement("input");t.setAttribute("type","date"),this.native_date="date"==t.type,this.timeout_datetimepicker=5e3;var i=document.createElement("input");i.setAttribute("type","color"),this.native_color="color"==i.type,this.timeout_minicolors=5e3,this.form_action_custom=!1,this.form_ajax=!0,this.object_focus=!1,this.field_type_click_drag_check=!1,this.password_strength_status=0,this.cascade_cache=[],this.select_ajax_cache=[],this.preview_window=void 0,this.calc=[],this.file_frame=!1,this.file_frame_input_obj=!1,this.api_call_handle=[],this.visual_builder=!1},$.WS_Form.prototype.render=function(e){var t=this;void 0===e&&this.error("error_attributes"),void 0===e.obj&&this.error("error_attributes_obj"),void 0===e.form_id&&this.error("error_attributes_form_id"),this.form_canvas_obj=e.obj instanceof $?e.obj:$(e.obj),this.form_obj_id=this.form_canvas_obj.attr("id"),this.form_id=e.form_id,this.form_instance_id=this.form_canvas_obj.attr("data-instance-id"),this.form_id_prefix=this.is_admin?"wsf-":"wsf-"+this.form_instance_id+"-",this.form_id_prefix_function=this.is_admin?"wsf_":"wsf_"+this.form_instance_id+"_",this.form_obj=this.form_canvas_obj.closest("form"),this.form_obj.length?this.form_obj.attr("novalidate",""):this.form_obj=this.form_canvas_obj,this.form_obj[0]!=this.form_canvas_obj[0]&&(this.form_obj.hasClass("wsf-form")||this.form_obj.addClass("wsf-form"),this.form_canvas_obj.hasClass("wsf-form")&&this.form_canvas_obj.removeClass("wsf-form")),this.get_configuration(function(){t.get_form(function(){t.init()})})},$.WS_Form.configured=!1,$.WS_Form.css_rendered=!1,$.WS_Form.debug,$.WS_Form.debug_rendered=!1,$.WS_Form.analytics,$.WS_Form.tracking,$.WS_Form.external,$.WS_Form.ecommerce,$.WS_Form.calc,$.WS_Form.settings_plugin,$.WS_Form.settings_form=null,$.WS_Form.frameworks,$.WS_Form.parse_variables,$.WS_Form.parse_variable_help,$.WS_Form.actions,$.WS_Form.field_types,$.WS_Form.field_type_cache=[],$.WS_Form.file_types,$.WS_Form.meta_keys,$.WS_Form.meta_keys_required_setting=[],$.WS_Form.breakpoints,$.WS_Form.data_sources,$.WS_Form.prototype.get_configuration=function(e,t,i){if(void 0===t)t=!1;if(void 0===i)i=!1;if(this.options_action_cache=[],i||this.loader_on(),!$.WS_Form.configured||t)if("undefined"==typeof wsf_form_json_config){var a=this;this.api_call("config","GET",!1,function(t){a.set_configuration(t.data),window.wsf_form_json_config=t.data,"function"==typeof e&&e()},!1,i)}else this.set_configuration(wsf_form_json_config),"function"==typeof e&&e();else"function"==typeof e&&e()},$.WS_Form.prototype.set_configuration=function(e){if($.WS_Form.settings_plugin=e.settings_plugin,$.WS_Form.settings_form=e.settings_form,$.WS_Form.frameworks=e.frameworks,$.WS_Form.field_types=e.field_types,$.WS_Form.file_types=e.file_types,$.WS_Form.meta_keys=e.meta_keys,$.WS_Form.parse_variables=e.parse_variables,$.WS_Form.parse_variable_help=e.parse_variable_help,$.WS_Form.actions=e.actions,$.WS_Form.data_sources=e.data_sources,$.WS_Form.calc=e.calc,$.WS_Form.external=e.external,$.WS_Form.analytics=e.analytics,$.WS_Form.tracking=e.tracking,$.WS_Form.ecommerce=e.ecommerce,void 0!==$.WS_Form.parse_variables){var t=[];for(var i in $.WS_Form.parse_variables)$.WS_Form.parse_variables.hasOwnProperty(i)&&t.push([i,$.WS_Form.parse_variables[i].priority]);t.sort(function(e,t){var i=void 0!==e[1]?e[1]:0;return(void 0!==t[1]?t[1]:0)-i});var a={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i][0];a[r]=$.WS_Form.parse_variables[r]}$.WS_Form.parse_variables=a}void 0!==e.debug&&($.WS_Form.debug=e.debug),this.field_type_cache_build(),$.WS_Form.configured=!0},$.WS_Form.prototype.get_form=function(e){if(0==this.form_id)return this.error("error_form_id"),void this.loader_off();if($("#"+this.form_obj_id).attr("data-id",this.form_id),"undefined"==typeof wsf_form_json||void 0===wsf_form_json[this.form_id]){var t=this;this.api_call("form/"+this.form_id+"/full","GET",!1,function(i){t.form=i.form,void 0===window.wsf_form_json&&(window.wsf_form_json=[]),window.wsf_form_json[t.form_id]=i.form,t.data_cache_build(),"function"==typeof e&&e(),t.loader_off()})}else this.form=wsf_form_json[this.form_id],this.data_cache_build(),"function"==typeof e&&e(),this.loader_off()},$.WS_Form.prototype.form_build=function(){this.timer_start=new Date;var e=this.get_form_html(this.form);if(this.form_canvas_obj.html(e),!this.is_admin){var t=this.get_object_meta_value(this.form,"class_form_wrapper","");if(""!=t){var i=this.form_canvas_obj.attr("class");i+=" "+$.trim(t),this.form_canvas_obj.attr("class",i)}}this.form_render(),this.timer_duration=new Date-this.timer_start,$.WS_Form.debug_rendered&&this.debug_info("debug_info_duration",this.timer_duration+"ms")},$.WS_Form.prototype.get_form_html=function(e){if(void 0===e)return"";if(void 0===e.groups)return"";var t=this.is_admin?ws_form_settings.framework_admin:$.WS_Form.settings_plugin.framework,i=$.WS_Form.frameworks.types[t].form[this.is_admin?"admin":"public"],a=this.html_encode(e.label);if(!this.is_admin&&"on"==this.get_object_meta_value(e,"label_render","on"))var r=this.is_admin?"":this.get_object_meta_value(this.form,"label_mask_form",""),s=""!=r?r:void 0!==i.mask_label?i.mask_label:"",_={label:a},o=this.mask_parse(s,_);else o="";var l=this.get_tabs_html(e.groups);l+=this.get_groups_html(e.groups);s=i.mask_single,_={form:l,id:this.form_id_prefix+"tabs",label:o};return this.comment_html("Form: "+a)+this.mask_parse(s,_)+this.comment_html("Form: "+a,!0)},$.WS_Form.prototype.get_tabs_html=function(e){if(1==e.length&&!this.is_admin)return"";var t="",i=this.is_admin?ws_form_settings.framework_admin:$.WS_Form.settings_plugin.framework,a=$.WS_Form.frameworks.types[i].tabs[this.is_admin?"admin":"public"],r=this.get_object_meta_value(this.form,"cookie_tab_index")?this.cookie_get("tab_index",0):0;if(void 0===e)return"";if(e.length>1||this.is_admin){for(var s in e)if(e.hasOwnProperty(s)){var _=e[s];t+=this.get_tab_html(_,s,r==s)}var o=a.mask_wrapper,l={tabs:t,id:this.form_id_prefix+"tabs"},n=this.comment_html(this.language("comment_group_tabs"))+this.mask_parse(o,l)+this.comment_html(this.language("comment_group_tabs"),!0)}return n},$.WS_Form.prototype.get_tab_html=function(e,t,i){if(void 0===t)t=0;if(void 0===i)i=!1;var a=this.is_admin?ws_form_settings.framework_admin:$.WS_Form.settings_plugin.framework,r=$.WS_Form.frameworks.types[a].tabs[this.is_admin?"admin":"public"],s=this.html_encode(e.label),_=r.mask_single,o={class:"wsf-tab",data_id:e.id,href:"#"+this.form_id_prefix+"tab-content-"+e.id,label:s};return i&&void 0!==r.active?o.active=r.active:o.active="",this.mask_parse(_,o)},$.WS_Form.prototype.get_groups_html=function(e){if(void 0===e)return"";var t=this.is_admin?ws_form_settings.framework_admin:$.WS_Form.settings_plugin.framework,i=$.WS_Form.frameworks.types[t].groups[this.is_admin?"admin":"public"],a=this.get_object_meta_value(this.form,"cookie_tab_index")?this.cookie_get("tab_index",0):0,r="",s=this.is_admin||e.length>1;for(var _ in e)if(e.hasOwnProperty(_)){var o=e[_];r+=this.get_group_html(o,_==a,s,_)}var l=s?i.mask_wrapper:"#groups",n={class:["wsf-groups"].join(" "),groups:r,id:this.form_id_prefix+"tabs"};return(s?this.comment_html(this.language("comment_groups")):"")+this.mask_parse(l,n)+(s?this.comment_html(this.language("comment_groups"),!0):"")},$.WS_Form.prototype.get_group_html=function(e,t,i,a){if(void 0===t)t=!1;if(void 0===i)i=!0;var r=this.is_admin?ws_form_settings.framework_admin:$.WS_Form.settings_plugin.framework,s=$.WS_Form.frameworks.types[r].groups[this.is_admin?"admin":"public"],_=this.html_encode(e.id),o=this.html_encode(e.label);if(!this.is_admin&&"on"==this.get_object_meta_value(e,"label_render","on"))var l=this.is_admin?"":this.get_object_meta_value(this.form,"label_mask_group",""),n=""!=l?l:void 0!==s.mask_label?s.mask_label:"",c={label:o},d=this.mask_parse(n,c);else d="";var p,f=this.get_sections_html(e),u=[];(void 0!==s.class&&u.push(s.class),this.is_admin)||(""!=(p=this.get_object_meta_value(this.form,"class_group_wrapper",""))&&u.push($.trim(p)),""!=(p=this.get_object_meta_value(e,"class_group_wrapper",""))&&u.push($.trim(p)));t&&void 0!==s.class_active&&u.push(s.class_active);n=i?s.mask_single:"#group",c={class:u.join(" "),id:this.form_id_prefix+"tab-content-"+_,data_id:e.id,data_group_index:a,group:f,label:d};return(i?this.comment_html(this.language("comment_group")+": "+o):"")+this.mask_parse(n,c)+(i?this.comment_html(this.language("comment_group")+": "+o,!0):"")},$.WS_Form.prototype.get_sections_html=function(e){var t="",i=this.is_admin?ws_form_settings.framework_admin:$.WS_Form.settings_plugin.framework,a=$.WS_Form.frameworks.types[i].sections[this.is_admin?"admin":"public"],r=(e.id,e.sections),s={};if("object"==typeof this.submit?void 0!==this.submit.section_repeatable&&(s=this.submit.section_repeatable):!1!==this.submit_auto_populate&&void 0!==this.submit_auto_populate.section_repeatable&&(s=this.submit_auto_populate.section_repeatable),void 0===r)return"";for(var _ in r)if(r.hasOwnProperty(_)){var o=r[_],l="section_"+o.id,n=!1!==s&&void 0!==s[l]&&void 0!==s[l].index?s[l].index:[!1];for(var c in n)if(n.hasOwnProperty(c)){var d=n[c];t+=this.get_section_html(o,d)}}var p=a.mask_wrapper,f={class:"wsf-sections",id:this.form_id_prefix+"sections-"+e.id,data_id:e.id,sections:t};return this.comment_html(this.language("comment_sections"))+this.mask_parse(p,f)+this.comment_html(this.language("comment_sections"),!0)},$.WS_Form.prototype.get_section_html=function(e,t){if(void 0===t)t=!1;var i=!1;if(!this.is_admin&&((i="on"==this.get_object_meta_value(e,"section_repeatable",""))&&!1===t)){t=0;do{t++}while($("#"+this.form_id_prefix+"section-"+e.id+"-repeat-"+t).length)}var a=[],r=this.is_admin?ws_form_settings.framework_admin:$.WS_Form.settings_plugin.framework,s=$.WS_Form.frameworks.types[r].sections[this.is_admin?"admin":"public"],_=this.column_class_array(e);if(i&&!this.is_admin&&(a.push("data-repeatable"),a.push('data-repeatable-index="'+t+'"')),void 0!==s.class_single&&(_=_.concat(s.class_single)),!this.is_admin){var o;""!=(o=this.get_object_meta_value(this.form,"class_section_wrapper",""))&&_.push($.trim(o)),""!=(o=this.get_object_meta_value(e,"class_section_wrapper",""))&&_.push($.trim(o));var l=this.get_object_meta_value(e,"class_single_vertical_align","");if(l){var n=this.get_field_value_fallback(!1,!1,"class_single_vertical_align",!1);void 0!==n[l]&&_.push(n[l])}}var c=this.html_encode(e.label);if(this.is_admin||"on"==this.get_object_meta_value(e,"label_render","on"))var d=this.is_admin?"":this.get_object_meta_value(this.form,"label_mask_section",""),p=""!=d?d:void 0!==s.mask_label?s.mask_label:"",f={label:c},u=this.mask_parse(p,f);else u="";this.is_admin||("on"==this.get_object_meta_value(e,"disabled_section","")&&a.push("disabled"),"on"==this.get_object_meta_value(e,"hidden_section","")&&a.push('style="display:none;"'));if(0==e.child_count)var h=this.get_fields_html(e,t);else h=this.get_sections_html(e.children);p=s.mask_single,f={attributes:(a.length>0?" ":"")+a.join(" "),class:_.join(" "),id:this.form_id_prefix+"section-"+e.id+(t?"-repeat-"+t:""),data_id:e.id,section:h,label:u,section_id:$.WS_Form.settings_plugin.helper_section_id?'<span class="wsf-section-id">'+this.language("id")+": "+e.id+"</span>":""};return this.comment_html(this.language("comment_section")+": "+c)+this.mask_parse(p,f)+this.comment_html(this.language("comment_section")+": "+c,!0)},$.WS_Form.prototype.get_fields_html=function(e,t){var i="on"==this.get_object_meta_value(e,"section_repeatable","");if(void 0===t)t=!!i&&0;var a="",r=this.is_admin?ws_form_settings.framework_admin:$.WS_Form.settings_plugin.framework,s=$.WS_Form.frameworks.types[r].fields[this.is_admin?"admin":"public"],_=(e.id,e.fields),o=this.html_encode(e.label);if(!this.is_admin&&"on"==this.get_object_meta_value(e,"label_render","on"))var l=this.is_admin?"":this.get_object_meta_value(this.form,"label_mask_section",""),n=""!=l?l:void 0!==s.mask_wrapper_label?s.mask_wrapper_label:"",c={label:o},d=this.mask_parse(n,c);else d="";if(void 0===_)return"";for(var p in _)if(_.hasOwnProperty(p)){var f=_[p];a+=this.get_field_html(f,t)}n=s.mask_wrapper,c={id:this.form_id_prefix+"fields-"+e.id,data_id:e.id,fields:a,label:d};return this.comment_html(this.language("comment_fields"))+this.mask_parse(n,c)+this.comment_html(this.language("comment_fields"),!0)},$.WS_Form.prototype.value_populate_process=function(e,t){if(null===e)return"";switch(t.type){case"datetime":return void 0!==e.presentation_full?e.presentation_full:e;case"select":case"checkbox":case"radio":case"price_select":case"price_checkbox":case"price_radio":return"object"==typeof e?e.map(function(e){return e.toString()}):e;default:return e}},$.WS_Form.prototype.get_field_html=function(e,t){if(void 0===t)t=!1;var i=[];!1!==t&&i.push('data-repeatable-index="'+t+'"');var a=this.is_admin?ws_form_settings.framework_admin:$.WS_Form.settings_plugin.framework,r=$.WS_Form.frameworks.types[a].fields[this.is_admin?"admin":"public"];this.is_admin||"on"==this.get_object_meta_value(e,"hidden","")&&i.push('style="display:none;"');var s=this.column_class_array(e),_=this.get_field_value_fallback(e.type,!1,"class_single",!1,r);if(!1!==_&&(s=s.concat(_)),!this.is_admin){var o;""!=(o=this.get_object_meta_value(this.form,"class_field_wrapper",""))&&s.push($.trim(o)),""!=(o=this.get_object_meta_value(e,"class_field_wrapper",""))&&s.push($.trim(o));var l=this.get_object_meta_value(e,"class_single_vertical_align","");if(l){var n=this.get_field_value_fallback(e.type,!1,"class_single_vertical_align",!1);void 0!==n[l]&&s.push(n[l])}}var c=!1!==t?"_"+t:"",d=ws_form_settings.field_prefix+e.id+c;if("object"==typeof this.submit){if(void 0!==this.submit.meta&&void 0!==this.submit.meta[d]&&void 0!==this.submit.meta[d].value&&null!==this.submit.meta[d].value){var p=this.submit.meta[d].value;p=this.value_populate_process(p,e)}}else if(!1!==this.submit_auto_populate&&void 0!==this.submit_auto_populate.data&&void 0!==this.submit_auto_populate.data[d]&&null!==this.submit_auto_populate.data[d]){p=this.submit_auto_populate.data[d];p=this.value_populate_process(p,e)}var f=this.is_admin?"":this.get_field_html_single(e,p,!1,t),u=this.html_encode(e.label);if(void 0===$.WS_Form.field_type_cache[e.type])return"";var h=$.WS_Form.field_type_cache[e.type];if(void 0!==h.pro_required&&h.pro_required)return"";var m=!this.is_admin&&(void 0!==h.mask_wrappers_drop&&h.mask_wrappers_drop);if("recaptcha"!=e.type||this.is_admin||"invisible"!=this.get_object_meta_value(e,"recaptcha_recaptcha_type","default")||(m=!0),m)var v="#field";else v=this.get_field_value_fallback(e.type,!1,"mask_single",!1,r);switch(e.type){case"checkbox":case"price_checkbox":var b=this.get_object_meta_value(e,"checkbox_min",!1),g=this.get_object_meta_value(e,"checkbox_max",!1),y=this.get_object_meta_value(e,"select_all",!1);if(!1===b&&!1===g)break;!1!==b&&(b=parseInt(b,10))>0&&i.push('data-checkbox-min="'+b+'"'),!1===g||y||(g=parseInt(g,10))>=0&&i.push('data-checkbox-max="'+g+'"');break;case"select":case"price_select":var k=this.get_object_meta_value(e,"select_min",!1),w=this.get_object_meta_value(e,"select_max",!1);if(!1===k&&!1===w)break;!1!==k&&(k=parseInt(k,10))>0&&i.push('data-select-min="'+k+'"'),!1!==w&&(w=parseInt(w,10))>=0&&i.push('data-select-max="'+w+'"')}var S={attributes:(i.length>0?" ":"")+i.join(" "),class:s.join(" "),id:this.get_part_id(e.id,t,"field-wrapper"),data_id:e.id,type:e.type,field:f};return this.comment_html(this.language("comment_field")+": "+u)+this.mask_parse(v,S)+this.comment_html(this.language("comment_field")+": "+u,!0)},$.WS_Form.prototype.field_type_cache_build=function(){if(this.is_admin||($.WS_Form.field_type_cache=$.WS_Form.field_types),$.WS_Form.field_type_cache.length>0)return!0;for(var e in $.WS_Form.field_types){var t=$.WS_Form.field_types[e].types;for(var i in t)$.WS_Form.field_type_cache[i]=t[i]}},$.WS_Form.prototype.html_encode=function(e){if("string"!=typeof e)return e;var t=this.replace_all(e,"&","&#38;");return t=this.replace_all(t,"<","&lt;"),t=this.replace_all(t,">","&gt;"),t=this.replace_all(t,'"',"&quot;")},$.WS_Form.prototype.js_string_encode=function(e){return"string"!=typeof e?e:this.replace_all(e,"'","\\'")},$.WS_Form.prototype.loader_on=function(){$("#wsf-loader").addClass("wsf-loader-on")},$.WS_Form.prototype.loader_off=function(){$("#wsf-loader").removeClass("wsf-loader-on")},$.WS_Form.prototype.comment_html=function(e,t){if(void 0===t)t=!1;return $.WS_Form.settings_plugin.comments_html?"\x3c!-- "+(t?"/":"")+e+" --\x3e\n"+(t?"\n":""):""},$.WS_Form.prototype.comment_css=function(e){return $.WS_Form.settings_plugin.comments_css?"\t/* "+e+" */\n":""},$.WS_Form.prototype.get_object_value=function(e,t,i){if(void 0===i)i=!1;return void 0===e?i:void 0===e[t]?i:e[t]},$.WS_Form.prototype.get_field_value_fallback=function(e,t,i,a,r){if(void 0===a)a=!1;if(void 0===r)r=this.framework_fields;var s=r,_=$.WS_Form.field_type_cache[e];if(!1!==t){if(!(void 0===s||void 0===s[t]||void 0===s[t].field_types||void 0===s[t].field_types[e]||void 0===s[t].field_types[e][i]))return s[t].field_types[e][i];if(!(void 0===s||void 0===s[t]||void 0===s[t][i]))return s[t][i]}return void 0===s||void 0===s.field_types||void 0===s.field_types[e]||void 0===s.field_types[e][i]?void 0===s||void 0===s[i]?void 0===_?a:void 0===_[i]?a:_[i]:s[i]:s.field_types[e][i]},$.WS_Form.prototype.get_object_data=function(e,t,i){if(void 0===i)i=!1;switch(e){case"form":return i?this.object_data_scratch:this.form;case"group":return i?this.object_data_scratch:this.group_data_cache[t];case"section":return i?this.object_data_scratch:this.section_data_cache[t];case"field":return i?this.object_data_scratch:this.field_data_cache[t];case"conditional":return this.conditional;case"action":return this.action}return!1},$.WS_Form.prototype.get_object_meta=function(e,t){switch(e){case"form":var i=$.WS_Form.settings_form.sidebars.form.meta;break;case"group":i=$.WS_Form.settings_form.sidebars.group.meta;break;case"section":i=$.WS_Form.settings_form.sidebars.section.meta;break;case"field":var a=this.field_data_cache[t];i=$.WS_Form.field_type_cache[a.type]}return i},$.WS_Form.prototype.get_object_meta_value=function(e,t,i,a,r){if(void 0===i)i=!1;if(void 0===a)a=!1;if(void 0===r)r=!1;if(void 0===e)return i;if(void 0===e.meta)return i;if(void 0===e.meta[t]){if(!a)return i;this.set_object_meta_value(e,t,i)}return r&&"string"==typeof e.meta[t]?this.parse_variables_process(e.meta[t]).output:e.meta[t]},$.WS_Form.prototype.has_object_meta_key=function(e,t){return void 0!==e&&void 0!==e.meta&&void 0!==e.meta[t]&&""!=e.meta[t]},$.WS_Form.prototype.parse_variables_process=function(e,t,i,a,r,s,_){if("string"!=typeof e)return this.parse_variables_process_error(e);if(-1==e.indexOf("#"))return this.parse_variables_process_error(e);if(void 0===t)t=!1;if(void 0===i)i=!1;if(void 0===a)a=!1;if(void 0===r)r=!1;if(void 0===s)s=!0;if(void 0===_)_=1;var o={},l={},n=[];if(_>100)return this.error("error_parse_variable_syntax_error_depth","","parse_variables"),this.parse_variables_process_error(this.language("error_parse_variable_syntax_error_depth"));for(var c in $.WS_Form.parse_variables)if($.WS_Form.parse_variables.hasOwnProperty(c)){var d=$.WS_Form.parse_variables[c];if((d.ignore_prefix,d.ignore_prefix)||-1!==e.indexOf("#"+c))for(var p in d.variables)if(d.variables.hasOwnProperty(p)&&-1!==e.indexOf("#"+p,v)){var f=d.variables[p],u=void 0!==f.value&&f.value,h="object"==typeof f.attributes&&f.attributes,m=void 0!==f.single_parse&&f.single_parse;if(!1!==h||!1===u){if(("object"==typeof f.attributes?f.attributes.length:0)>0){var v=0;do{var b=e.indexOf("#"+p,v);if(-1!==b){var g=-1,y=-1,k=e.substring(b+p.length+1);if("("===k.substring(0,1)&&(g=b+p.length+1,-1!==(y=this.get_bracket_finish_index(k))&&(y+=g)),-1===g||-1===y){v+=p.length+1,F="#"+p;var w=[]}else{v=y;var S=e.substr(g+1,y-1-g),F=e.substr(b,y+1-b);w=this.string_to_attributes(S)}for(var x in h)if(h.hasOwnProperty(x)){var W=h[x],j=W.id,O=void 0!==w[x];if((void 0===W.required||W.required)&&!O)return this.error("error_parse_variable_syntax_error_attribute","#"+p+" (Expected "+j+")","parse-variables"),this.parse_variables_process_error(this.language("error_parse_variable_syntax_error_attribute","#"+p+" (Expected "+j+")"));var M=void 0!==W.default&&W.default;if(!1===M||O||(w[x]=M),void 0===W.trim||W.trim){var C=w[x];"string"==typeof C&&(w[x]=C.trim())}var E=void 0!==W.valid&&W.valid;if(!1!==E&&!E.includes(w[x]))return this.error("error_parse_variable_syntax_error_attribute_invalid","#"+p+" (Expected "+E.join(", ")+")","parse-variables"),this.parse_variables_process_error(this.language("error_parse_variable_syntax_error_attribute_invalid","#"+p+" (Expected "+E.join(", ")+")"))}var P="";switch(p){case"calc":var D=(me=this.parse_variables_process(w[0],t,!0,a,r,s,_+1)).output;if("object"==typeof me.fields&&(n=n.concat(me.fields)),P=this.eval_process(D),!1!==a&&void 0!==a&&1==_&&!i&&s){var T=me.fields,I=[],N=[];for(var q in T)if(T.hasOwnProperty(q)){var z=T[q];-1===N.indexOf(z)&&(N.push(z),I.push(z))}this.calc.push({field:a,type:r,value:e,field_ids_touched:I,section_repeatable_index:t}),this.calc.sort(function(e,t){return e.section_repeatable_index===t.section_repeatable_index?0:e.section_repeatable_index<t.section_repeatable_index?1:-1}),ws_form_settings.debug&&"field_value"===r&&this.debug_field_id_bypass.push(a.id),ws_form_settings.debug&&this.log("log_calc_registered",a.label+" - "+e+" ("+this.language("log_calc_registered_triggered",I.join(", "))+")","calc")}break;case"field":case"ecommerce_field_price":if(isNaN(w[0]))return this.error("error_parse_variable_syntax_error_field_id",w[0],"parse-variables"),this.parse_variables_process_error(this.language("error_parse_variable_syntax_error_field_id",w[0]));if((ee=parseInt(w[0],10))===parseInt(a.id,10))return this.error("error_parse_variable_syntax_error_calc_loop",F,"parse-variables"),this.parse_variables_process_error(this.language("error_parse_variable_syntax_error_calc_loop",F));if(void 0===this.field_data_cache[ee])return this.error("error_parse_variable_syntax_error_field_id",w[0],"parse-variables"),this.parse_variables_process_error(this.language("error_parse_variable_syntax_error_field_id",w[0]));n.push(ee);var R=this.field_data_cache[ee];if(void 0===$.WS_Form.field_type_cache[R.type])break;var A=$.WS_Form.field_type_cache[R.type],L=void 0!==A.submit_array&&A.submit_array,Y=void 0!==R.section_repeatable_section_id&&R.section_repeatable_section_id,U=void 0!==a.section_repeatable_section_id&&a.section_repeatable_section_id,H=t;P=!1;if(!1!==Y&&!1!==U)P=this.get_field_value(R,H,L);if(!1!==Y&&!1===U)P=this.get_field_value(R,!0,L,i);if(!1===Y)P=this.get_field_value(R,!1,L,i);if(!1===P)switch(R.type){case"price_select":case"price_checkbox":case"price_radio":case"select":case"checkbox":case"radio":var J=this.get_data_source(R);P=!1!==J.default_value?J.default_value:[];break;default:var V=this.get_object_meta_value(R,"default_value","");"object"==typeof(me=this.parse_variables_process(V,t,i,R,r,s,_+1)).fields&&(n=n.concat(me.fields)),P=[me.output]}if(i)if(P.length){if(!(A.calc_out,A.calc_out))return this.error("error_parse_variable_syntax_error_calc_out",R.label+" (ID: "+R.id+")","parse-variables"),this.parse_variables_process_error(this.language("error_parse_variable_syntax_error_calc_out",R.label+" (ID: "+R.id+")"));switch(R.type){case"price_select":case"price_checkbox":case"price_radio":case"price":case"price_subtotal":case"cart_price":case"cart_total":var G=0;for(var Z in P)P.hasOwnProperty(Z)&&(G+=this.get_number(P[Z],0));P=G;break;case"datetime":if(""===P[0]){P="";break}var B=this.get_object_meta_value(R,"input_type_datetime","date"),X=this.get_object_meta_value(R,"format_date",ws_form_settings.date_format),Q=this.get_date(P[0],B,X);P=this.get_number(Q.getTime())/1e3;break;default:G=0;for(var Z in P)P.hasOwnProperty(Z)&&(G+=this.get_number(P[Z],0,!1));P=G}}else P=0;else P=P.join(",");if("ecommerce_field_price"==p)P=this.get_price(P);break;case"ecommerce_price":"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));var K=this.eval_process(me.output);P=this.get_price(K);break;case"select_option_text":if(isNaN(w[0]))return this.error("error_parse_variable_syntax_error_field_id",w[0],"parse-variables"),this.parse_variables_process_error(this.language("error_parse_variable_syntax_error_field_id",w[0]));var ee=w[0];void 0===(se=w[1])&&(se=", ");var te=ws_form_settings.field_prefix+parseInt(ee,10)+(t?"["+t+"]":"");if((_e=$('[name="'+te+'[]"] option:selected',this.form_canvas_obj)).length)P=$.map(_e,function(e,t){return $(e).text()}).join(se);break;case"query_var":P=this.get_query_var(w[0]);break;case"section_row_count":if(isNaN(w[0]))return this.error("error_parse_variable_syntax_error_section_id",w[0],"parse-variables"),this.parse_variables_process_error(this.language("error_parse_variable_syntax_error_section_id",w[0]));var ie=w[0];if(void 0===this.section_data_cache[ie])return this.error("error_parse_variable_syntax_error_section_id",w[0],"parse-variables"),this.parse_variables_process_error(this.language("error_parse_variable_syntax_error_section_id",w[0]));var ae=$('[data-repeatable][data-id="'+ie+'"]',this.form_canvas_obj);if(0===(P=ae.length?ae.length:0)){var re=this.section_data_cache[ie];P=this.get_section_repeat_default(re)}break;case"checkbox_label":case"radio_label":if(isNaN(w[0]))return this.error("error_parse_variable_syntax_error_field_id",w[0],"parse-variables"),this.parse_variables_process_error(this.language("error_parse_variable_syntax_error_field_id",w[0]));var se;ee=w[0];void 0===(se=w[1])&&(se=", ");var _e;te=ws_form_settings.field_prefix+parseInt(ee,10)+(t?"["+t+"]":"");if((_e=$('[name="'+te+'[]"]:checked',this.form_canvas_obj)).length)P=$.map(_e,function(e,t){return $('label[for="'+$(e).attr("id")+'"]').text()}).join(se);break;case"post_date_custom":case"server_date_custom":case"blog_date_custom":var oe=new Date(u);P=this.date_format(oe,w[0]);break;case"client_date_custom":oe=new Date;P=this.date_format(oe,w[0]);break;case"random_number":var le=parseInt(this.get_number(w[0]),10),ne=parseInt(this.get_number(w[1]),10);P=Math.floor(Math.random()*(ne-le+1))+le;break;case"random_string":var ce=parseInt(this.get_number(w[0]),10),de=w[1],pe=de.length;P="";for(var fe=0;fe<ce;fe++)P+=de[Math.floor(Math.random()*pe)];break;case"abs":"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));K=this.eval_process(me.output);P=Math.abs(K);break;case"ceil":"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));K=this.eval_process(me.output);P=Math.ceil(K);break;case"cos":"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));K=this.eval_process(me.output);P=Math.cos(K);break;case"exp":"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));K=this.eval_process(me.output);P=Math.exp(K);break;case"floor":"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));K=this.eval_process(me.output);P=Math.floor(K);break;case"log":"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));K=this.eval_process(me.output);P=Math.log(K);break;case"pow":"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));var ue=this.eval_process(me.output,ve);"object"==typeof(me=this.parse_variables_process(w[1],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));var he=this.eval_process(me.output,ve);P=Math.pow(ue,he);break;case"round":var me=this.parse_variables_process(w[1],t,i,a,r,s,_),ve=this.get_number(me.output);"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));P=this.eval_process(me.output,ve);break;case"sin":"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));K=this.eval_process(me.output);P=Math.sin(K);break;case"sqrt":"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));K=this.eval_process(me.output);P=Math.sqrt(K);break;case"tan":"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields));K=this.eval_process(me.output);P=Math.tan(K);break;case"avg":G=0;if(1===w.length)"object"==typeof(me=this.parse_variables_process(w[0],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields)),w=this.string_to_attributes(me.output);for(var be in w){if(w.hasOwnProperty(be))"object"==typeof(me=this.parse_variables_process(w[be],t,i,a,r,s,_)).fields&&(n=n.concat(me.fields)),G+=K=this.eval_process(me.output)}P=G/w.length}m?l[F.substring(1)]=this.html_encode(P):o[F.substring(1)]=this.html_encode(P)}}while(-1!==b)}}else o[p]=u}}if(-1!=e.indexOf("form")&&(o.form_id=this.form_id,o.form_instance_id=this.form_instance_id,o.form_obj_id=this.form_obj_id,o.form_label=this.form.label,o.form_checksum=this.form.published_checksum,o.form_framework=this.framework.name),-1!=e.indexOf("submit")&&(o.submit_hash=this.hash),-1!=e.indexOf("client")){var ge=new Date;o.client_time=this.date_format(ge,ws_form_settings.time_format),o.client_date=this.date_format(ge,ws_form_settings.date_format)}var ye=this.get_currency();if(-1!=e.indexOf("ecommerce"))for(var ke in void 0===this.ecommerce_cart_price_type.total&&(this.ecommerce_cart_price_type.total={float:0,string:this.get_price(0,ye,!1),currency:this.get_price(0,ye)}),o.ecommerce_cart_total_float=this.ecommerce_cart_price_type.total.float,o.ecommerce_cart_total_currency=this.ecommerce_cart_price_type.total.currency,o.ecommerce_cart_total=this.ecommerce_cart_price_type.total.string,$.WS_Form.ecommerce.cart_price_types)$.WS_Form.ecommerce.cart_price_types.hasOwnProperty(ke)&&(void 0===this.ecommerce_cart_price_type[ke]&&(this.ecommerce_cart_price_type[ke]={float:0,string:this.get_price(0,ye,!1),currency:this.get_price(0,ye)}),o["ecommerce_cart_"+ke+"_float"]=this.ecommerce_cart_price_type[ke].float,o["ecommerce_cart_"+ke+"_currency"]=this.ecommerce_cart_price_type[ke].currency,o["ecommerce_cart_"+ke]=this.ecommerce_cart_price_type[ke].string);var we=[],$e=Object.keys(o);$e.sort(),$e.reverse();for(var Se=0;Se<$e.length;Se++)we[$e[Se]]=o[$e[Se]];o=we;var Fe=e;(e=this.mask_parse(e,o),(e=this.mask_parse(e,l,!0))!==Fe&&-1!==e.indexOf("#"))&&(e=(me=this.parse_variables_process(e,t,i,a,r,s,_+1)).output,"object"==typeof me.fields&&(n=n.concat(me.fields)));return{output:e,fields:n}},$.WS_Form.prototype.eval_process=function(eval_input,decimals){try{var eval_output=eval(eval_input);return eval_output===1/0&&(eval_output=0),this.get_number(eval_output,0,!1,decimals)}catch(e){return 0}},$.WS_Form.prototype.string_to_attributes=function(e){if("string"!=typeof e)return[];if(""==e)return[];var t=1,i=0,a=!1,r="",s=[];for(e.replace("“",'"'),e.replace("”",'"');t>0||i<e.length;){var _=e[i];if(null==_)break;if(","!==_||1!==t||a)if('"'!==_){if(!a){switch(_){case"(":t++;break;case")":t--}if(0===t)break}r+=_,i++}else a||(r=""),a=!a,i++;else s.push(r),r="",i++}return s.push(r),s.length&&(s=s.map(function(e){return e=e.replace(/^"(.+(?="$))"$/,"$1")})),s},$.WS_Form.prototype.get_bracket_finish_index=function(e){if(""===e)return-1;e.replace("“",'"'),e.replace("”",'"');for(var t=1,i=1,a=!1;t>0||i<e.length;){var r=e[i];if(void 0===r)break;if('"'!==r){if(!a){switch(r){case"(":t++;break;case")":t--}if(0===t)break}i++}else a=!a,i++}return 0===t?i:(this.error("error_parse_variable_syntax_error_bracket_closing",e,"parse-variables"),-1)},$.WS_Form.prototype.parse_variables_process_error=function(e){return{output:e,functions:[],fields:[]}},$.WS_Form.prototype.get_field_value=function(e,t,i,a){var r=this;if(void 0===t)t=!1;if(void 0===i)i=!1;if(!1===t){var s='[name="'+ws_form_settings.field_prefix+e.id;i&&(s+="[]")}else if(!0===t)s='[name^="'+ws_form_settings.field_prefix+e.id+"[";else{s='[name="'+ws_form_settings.field_prefix+e.id+"["+t+"]";i&&(s+="[]")}if(!$(s+='"]').length)return!1;switch(e.type){case"checkbox":case"radio":case"price_checkbox":case"price_radio":s+=":checked"}var _=[];return $(s,this.form_canvas_ob).each(function(){if(a)switch(e.type){case"price_select":$(this).find("option:selected").each(function(){_.push(r.get_number($(this).attr("data-price"),0,!0))});break;case"price_checkbox":case"price_radio":_.push($(this).is(":checked")?r.get_number($(this).attr("data-price"),0,!0):0);break;default:_.push($(this).val())}else _.push($(this).val())}),_},$.WS_Form.prototype.get_data_source=function(e){var t={default_value:[]};e=this.field_data_cache[e.id];if(void 0===$.WS_Form.field_type_cache[e.type])return!1;var i=$.WS_Form.field_type_cache[e.type];if(void 0===i.data_source)return!1;var a=i.data_source;if(void 0===a.type)return!1;switch(t.type=a.type,t.type){case"data_grid":if(void 0===a.id)return!1;t.meta_key_data_grid=a.id,t.meta_key_value_column=(i.datagrid_column_value,i.datagrid_column_value),t.data_grid=this.get_object_meta_value(e,t.meta_key_data_grid,!1),t.value_column_id=this.get_object_meta_value(e,t.meta_key_value_column,!1);var r=(t.data_grid.columns,t.data_grid.columns);for(var s in t.value_column_index=!1,r)if(r.hasOwnProperty(s)){var _=r[s];if(void 0!==_.id&&_.id==t.value_column_id){t.value_column_index=s;break}}if(!1!==t.value_column_id&&void 0!==t.data_grid.groups){var o=t.data_grid.groups;for(var l in o)if(o.hasOwnProperty(l)){var n=o[l];if(void 0!==n.rows){var c=n.rows;for(var d in c)if(c.hasOwnProperty(d)){var p=c[d];if(void 0!==p.default&&"on"===p.default){if(void 0===p.data)continue;if(void 0===p.data[t.value_column_index])continue;t.default_value.push(p.data[t.value_column_index])}}}}}}return t},$.WS_Form.prototype.get_query_var=function(e){var t=window.location.href;if(!t)return"";try{e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i&&i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):""}catch(e){return""}},$.WS_Form.prototype.set_object_meta_value=function(e,t,i){return void 0===e?i:void 0===e.meta?i:void(e.meta[t]=i)},$.WS_Form.prototype.column_class_array=function(e,t){if(void 0===t)t="breakpoint";var i=[],a=this.framework.breakpoints,r=this.framework.columns.column_class,s=this.framework.columns.offset_class,_=0,o=0;for(var l in a)if(a.hasOwnProperty(l)){var n=a[l],c=this.get_object_meta_value(e,t+"_size_"+l,"");if(""==c&&(c="0"),0==(c=parseInt(c,10))){if(void 0!==n.column_size_default)switch(n.column_size_default){case"column_count":c=parseInt($.WS_Form.settings_plugin.framework_column_count,10);break;default:c=parseInt(n.column_size_default,10)}}else c=parseInt(c,10);if(c>0&&c!=_){var d={id:n.id,size_word:void 0===this.number_to_word[c]?c:this.number_to_word[c],size:c};if(void 0!==n.column_class)var p=n.column_class;else p=r;var f=this.mask_parse(p,d);i.push(f),_=c}var u=this.get_object_meta_value(e,t+"_offset_"+l,""),h=!1;if(""!==u&&u!=o){d={id:n.id,offset_word:void 0===this.number_to_word[u]?u:this.number_to_word[u],offset:u};if(void 0!==n.offset_class)var m=n.offset_class;else m=s;f=this.mask_parse(m,d);i.push(f),o=u,h=!0}h&&i.push("wsf-has-offset")}return i},$.WS_Form.prototype.column_classes_render=function(e,t,i){if(void 0===i)i=!0;for(var a=this.column_class_array(t),r=0;r<a.length;r++)i?e.addClass(a[r]):e.removeClass(a[r])},$.WS_Form.prototype.mask_parse=function(e,t,i){if("string"!=typeof e)return"";if(void 0===i)i=!1;var a=[];for(var r in t)if(t.hasOwnProperty(r)){var s=t[r];a.push({key:r,value:s})}for(var _ in a.sort(function(e,t){return e.key<t.key?1:-1}),a)if(a.hasOwnProperty(_)){var o=a[_];r=o.key,s=o.value;e=i?e.replace("#"+r,s):this.replace_all(e,"#"+r,s)}return e},$.WS_Form.prototype.get_field_label=function(e){return this.field_data_cache[e].label},$.WS_Form.prototype.get_section_label=function(e){return this.section_data_cache[e].label},$.WS_Form.prototype.language=function(e,t,i,a){if(void 0===t)t=!1;if(void 0===i)i=!0;if(void 0===a)a=!1;var r="",s="";if("error_language"===e)r="Language reference not found: %s";else if(null!==$.WS_Form.settings_form&&void 0!==$.WS_Form.settings_form.language&&void 0!==$.WS_Form.settings_form.language[e])r=$.WS_Form.settings_form.language[e];return""==r?"error_language"===e||a||this.error("error_language",e):(!1!==t&&(r=this.replace_all(r,"%s",t)),s=i?this.html_encode(r):r),""==s&&(s=""==t?"[LANGUAGE NOT FOUND: "+e+"]":t),s},$.WS_Form.prototype.cookie_set=function(e,t,i,a){if(void 0===i)i=!0;if(void 0===a)a=!0;var r=this.get_object_value($.WS_Form.settings_plugin,"cookie_prefix");if(!r)return!1;if(i){var s=this.get_object_value($.WS_Form.settings_plugin,"cookie_timeout");if(!s)return!1;var _=new Date;_.setTime(_.getTime()+1e3*s);var o="expires="+_.toUTCString()+";"}else o="";var l=r+"_"+(a?this.form_id+"_":"")+e+"="+t+";"+o+"path=/";return document.cookie=l,!0},$.WS_Form.prototype.cookie_get=function(e,t,i){if(void 0===i)i=!0;var a=this.get_object_value($.WS_Form.settings_plugin,"cookie_prefix");if(!a)return t;for(var r=a+"_"+(i?this.form_id+"_":"")+e+"=",s=decodeURIComponent(document.cookie).split(";"),_=0;_<s.length;_++){for(var o=s[_];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(r))return o.substring(r.length,o.length)}return void 0!==t?t:""},$.WS_Form.prototype.cookie_clear=function(e,t){if(void 0===t)t=!0;var i=this.get_object_value($.WS_Form.settings_plugin,"cookie_prefix");if(!i)return!1;var a=new Date;a.setTime(a.getTime()-36e5);var r="expires="+a.toUTCString(),s=i+"_"+(t?this.form_id+"_":"")+e+"='';"+r+";path=/";return document.cookie=s,!0},$.WS_Form.prototype.set_caret_at_end=function(e){var t=e.value.length;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-t),i.moveStart("character",t),i.moveEnd("character",0),i.select()}else(e.selectionStart||"0"==e.selectionStart)&&(e.selectionStart=t,e.selectionEnd=t,e.focus())},$.WS_Form.prototype.tabs=function(e,t){if(void 0===t)t={};var i=void 0!==t.selector?t.selector:"li",a=void 0!==t.active?t.active:0,r=void 0!==t.activate&&t.activate,s=this,_=0;e.addClass("wsf-tabs"),$(i,e).each(function(){var e=$(this);e.find('a[href*="#"]:not([href="#"])').each(function(){$(this).attr("data-tab-index",_),$(this).off("click").on("click",function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),s.tab_show($(this),e,r)}),_==a&&s.tab_show($(this),e)}),_++})},$.WS_Form.prototype.tabs_destroy=function(e,t){if(void 0===t)t={};var i=void 0!==t.selector?t.selector:"li";$(i,e).each(function(){$(this).find("a").each(function(){$(this).removeAttr("data-tab-index"),$(this).off("click")})}),e.removeClass("wsf-tabs")},$.WS_Form.prototype.tab_show=function(e,t,i){var a=this;t.siblings().each(function(){var e=$(this).find("a").first();a.tab_hide(e,$(this))}),t.addClass("wsf-tab-active");var r=e.attr("href");($(r).show(),"function"==typeof i)&&i(e.attr("data-tab-index"));e.trigger("tab_show")},$.WS_Form.prototype.tab_hide=function(e,t){t.removeClass("wsf-tab-active");var i=e.attr("href");$(i).hide()},$.WS_Form.prototype.data_cache_build=function(){if(void 0===this.form)return!1;if(void 0===this.form.groups)return!1;for(var e in this.group_data_cache=[],this.section_data_cache=[],this.field_data_cache=[],this.action_data_cache=[],this.form.groups)if(this.form.groups.hasOwnProperty(e)){var t=this.form.groups[e];this.data_cache_build_group(t)}var i=this.get_object_meta_value(this.form,"action",!1);if(!1!==i&&void 0!==i.groups&&void 0!==i.groups[0]&&"object"==typeof i.groups[0].rows&&0!=i.groups[0].rows.length){var a=i.groups[0].rows;for(var r in a)if(a.hasOwnProperty(r)){var s=a[r];void 0!==s.data&&0!=s.data.length&&(this.action_data_cache[s.id]={label:s.data[0]})}}return!0},$.WS_Form.prototype.data_cache_build_group=function(e){for(var t in this.group_data_cache[e.id]=e,e.sections)if(e.sections.hasOwnProperty(t)){var i=e.sections[t];this.data_cache_build_section(i)}return!0},$.WS_Form.prototype.data_cache_build_section=function(e){this.section_data_cache[e.id]=e;var t=void 0!==e.meta&&void 0!==e.meta.section_repeatable&&"on"==e.meta.section_repeatable;if(0==e.child_count){for(var i in e.fields)if(e.fields.hasOwnProperty(i)){var a=e.fields[i];t&&(a.section_repeatable_section_id=e.id),void 0!==$.WS_Form.field_type_cache[a.type]&&(this.field_data_cache[a.id]=a)}}else this.data_cache_build_section(e.children);return!0},$.WS_Form.prototype.array_randomize=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[i],e[i]=a}return e},$.WS_Form.prototype.get_nice_duration=function(e){if(0==e)return"-";var t=~~(e/3600),i=~~(e%3600/60),a=e%60,r="";return t>0&&(r+=t+" "+this.language("submit_duration_hours")+" "),i>0&&(r+=i+" "+this.language("submit_duration_minutes")+" "),r+=a+" "+this.language("submit_duration_seconds")},$.WS_Form.prototype.get_field_html_single=function(e,t,i,a){if(void 0===i)i=!1;if(void 0===a)a=!1;var r=[],s=void 0!==t,_=!i,o=!1!==a?"-repeat-"+a:"",l=this.get_part_id(e.id,a),n=this.get_field_name(e.id,a),c=["default","class","input_type_datetime","multiple","min","max","step"],d=["class"];if(void 0===$.WS_Form.field_type_cache[e.type])return"";var p=$.WS_Form.field_type_cache[e.type];if(p.pro_required)return this.language("error_pro_required");if(i)var f=!0;else f=this.get_object_meta_value(e,"label_render",!0);if(this.get_field_value_fallback(e.type,u,"label_disabled",!1)&&(f=!1),void 0!==p.submit_array&&p.submit_array&&(n+="[]"),f&&!i){var u=this.get_object_meta_value(e,"label_position","default");"default"==(u=this.get_field_value_fallback(e.type,!1,"label_position_force",u))&&(u=this.get_object_meta_value(this.form,"label_position_form","top"))}else u="top";var h=void 0!==p.mask_wrappers_drop&&p.mask_wrappers_drop;"recaptcha"==e.type&&"invisible"==this.get_object_meta_value(e,"recaptcha_recaptcha_type","default")&&(h=!0);var m=h?"#field":this.get_field_value_fallback(e.type,u,"mask","#field"),v=this.get_field_value_fallback(e.type,u,"mask_field","");if(i){var b=this.get_field_value_fallback(e.type,u,"mask_field_submit",!1);!1!==b&&(v=b)}var g=f?this.get_field_value_fallback(e.type,u,"mask_field_label",""):"",y=this.get_field_value_fallback(e.type,u,"mask_field_label_hide_group",!1),k=this.get_field_value_fallback(e.type,u,"mask_help",""),w=this.get_field_value_fallback(e.type,u,"mask_help_append",""),S=this.get_field_value_fallback(e.type,u,"mask_help_append_separator",""),F=this.get_field_value_fallback(e.type,u,"mask_invalid_feedback",""),x=this.get_object_meta_value(e,"default_value","",!1,!1),W=this.parse_variables_process(x,a,!1,e,"field_value",_).output,j=this.get_object_meta_value(e,"text_editor","",!1,!1),O=this.parse_variables_process(j,a,!1,e,"field_text_editor",_).output,M=this.get_object_meta_value(e,"html_editor","",!1,!1),C=this.parse_variables_process(M,a,!1,e,"field_html",_).output,E=this.get_object_meta_value(e,"ecommerce_calculation_persist","",!1,!0),P=this.get_object_meta_value(e,"dedupe_value_scope","",!1,!0),D=this.get_object_meta_value(e,"hidden_bypass","",!1,!0);if(!s){t="";""!=W&&(t=this.html_encode(W)),""!=O&&(t=O),""!=C&&(t=C)}var T=!0;"textarea"===e.type&&(T=""===this.get_object_meta_value(e,"input_type_textarea",""));var I=T?this.parse_variables_process(this.get_object_meta_value(e,"prepend",""),a,!1,e,"field_prepend",_).output:"",N=T?this.parse_variables_process(this.get_object_meta_value(e,"append",""),a,!1,e,"field_prepend",_).output:"";s&&"price_range"==e.type&&(t=this.get_number(t));var q="";if(!i){var z=[],R=this.get_object_meta_value(this.form,"class_field","",!1,!0);if(""!=R&&z.push(R),""!=(q=this.get_object_meta_value(e,"class_field","",!1,!0))&&z.push(q),!this.get_object_meta_value(e,"class_field_full_button_remove","")){var A=this.get_field_value_fallback(e.type,u,"class_field_full_button","");"object"==typeof A&&z.push(A.join(" "))}if(!(L=this.get_object_meta_value(e,"class_field_button_type",!1)))var L=this.get_field_value_fallback(e.type,u,"class_field_button_type_fallback",!1);if(L){var Y=this.get_field_value_fallback(e.type,u,"class_field_button_type","");void 0!==Y[L]&&z.push(Y[L])}var U=this.get_object_meta_value(e,"class_field_message_type",!1);if(U){var H=this.get_field_value_fallback(e.type,u,"class_field_message_type","");void 0!==H[U]&&z.push(H[U])}if(""!==I||""!==N){var J=this.get_field_value_fallback(e.type,u,"class_field_input_group","");""!==J&&z.push(J)}q=z.join(" ")}var V=parseInt($.WS_Form.settings_plugin.framework_column_count,10),G=parseInt(this.get_object_meta_value(this.form,"label_column_width_form",3),10),Z=this.get_object_meta_value(e,"label_column_width","default");switch(Z){case"default":case"":Z=G;break;default:Z=parseInt(Z,10)}Z>=V&&(Z=V-1);var B=V-Z,X={id:l,form_id_prefix:this.form_id_prefix,form_id:this.form_id,form_instance_id:this.form_instance_id,field_id:e.id,name:n,label:this.parse_variables_process(e.label,a,!1,e,"field_label",_).output,value:t,required:this.get_object_meta_value(this.form,"label_required")?'<span class="wsf-required-wrapper"></span>':"",column_width_label:Z,column_width_field:B,max_upload_size:ws_form_settings.max_upload_size,locale:ws_form_settings.locale,currency:$.WS_Form.settings_plugin.currency};switch(e.type){case"datetime":"on"==$.WS_Form.settings_plugin.ui_datepicker||"native"==$.WS_Form.settings_plugin.ui_datepicker&&!this.native_date?X.datetime_type="text":X.datetime_type=this.get_object_meta_value(e,"input_type_datetime","date");break;case"color":"on"==$.WS_Form.settings_plugin.ui_color||"native"==$.WS_Form.settings_plugin.ui_color&&!this.native_color?X.color_type="text":X.color_type="color";break;case"file":var Q=$.WS_Form.meta_keys.file_button_label;if(this.is_admin)var K=void 0!==Q.default?Q.default:"";else K=void 0!==Q.d?Q.d:"";var ee=this.get_object_meta_value(e,"file_button_label",K);if(X.file_button_label=ee,"object"==typeof t&&t.length>0){var te=[];for(var ie in t)if(t.hasOwnProperty(ie)){var ae=t[ie];void 0!==ae.name&&""!==ae.name&&te.push(ae.name)}te.length>0&&(X.label=te.join(", "))}}var re=this.get_field_value_fallback(e.type,u,"meta_key_parse_variables",[]);for(var se in re)if(re.hasOwnProperty(se)){Q=re[se];var _e=!1!==(dt=void 0!==$.WS_Form.meta_keys[Q]&&$.WS_Form.meta_keys[Q])?void 0===dt.d?"":dt.d:"",oe=this.get_object_meta_value(e,Q,_e);"object"==typeof oe&&(oe=JSON.stringify(oe)),oe=this.replace_all(oe,"'","&#39;"),X[Q]=oe}var le=$.extend(!0,{},X);le.label_id=this.get_part_id(e.id,a,"label");var ne=[],ce=this.get_part_id(e.id,a,"help"),de=i?"":this.get_object_meta_value(e,"help","",!1,!1);de=this.parse_variables_process(de,a,!1,e,"field_help",_).output;if(i)switch(e.type){case"range":de="#value"}var pe=this.get_field_value_fallback(e.type,u,"class_help",[]);ne.help_id=ce,ne.help_class=pe.join(" "),ne.help=de,X.help_class=pe.join(" ");var fe=!i&&this.get_object_meta_value(e,"invalid_feedback_render",!1,!1,!0),ue=!1;if(fe){var he=$.extend(!0,{},X),me=this.form_id_prefix+"invalid-feedback-"+e.id+o,ve=this.get_field_value_fallback(e.type,u,"class_invalid_feedback",[]);ue=this.get_field_value_fallback(e.type,u,"invalid_feedback_last_row",!1);if(""==(ge=this.get_object_meta_value(e,"invalid_feedback","",!1,!0))&&""!=this.invalid_feedback_mask_placeholder){var be=e.label,ge=this.replace_all(this.invalid_feedback_mask_placeholder,"#label_lowercase",be.toLowerCase());ge=this.replace_all(ge,"#label",be)}he.invalid_feedback_id=me,he.invalid_feedback_class=ve.join(" "),he.invalid_feedback=ge;var ye=this.mask_parse(F,he)}else me=!1,ye="";X.invalid_feedback=ye,le.invalid_feedback=ye,X.attributes="";var ke=$.extend(!0,[],this.get_field_value_fallback(e.type,u,"mask_field_attributes",[]));if(i)ke=c.filter(function(e){return-1!=ke.indexOf(e)});if(ke.length>0){var we=this.get_attributes(e,ke,!1,a);X.attributes+=" "+we.attributes,ke=we.mask_attributes,r=we.attribute_values}var $e="",Se=!1;switch(e.type){case"select":case"price_select":case"checkbox":case"price_checkbox":case"radio":case"price_radio":if(this.get_object_meta_value(e,e.type+"_cascade",!1)){Se=parseInt(this.get_object_meta_value(e,e.type+"_cascade_field_filter",!1),10);var Fe=parseInt(this.get_object_meta_value(e,e.type+"_cascade_field_id",!1),10);if(Fe>0){var xe=' data-cascade-field-id="'+Fe+'"';switch(e.type){case"select":case"price_select":X.attributes+=xe;break;case"checkbox":case"price_checkbox":case"radio":case"price_radio":$e=xe}}}}var We=this.get_object_meta_value(e,"custom_attributes",!1);if(!1!==We&&"object"==typeof We&&We.length>0)for(var je in We)if(We.hasOwnProperty(je)){var Oe=We[je];""!=Oe.custom_attribute_name&&(X.attributes=this.attribute_modify(X.attributes,Oe.custom_attribute_name,Oe.custom_attribute_value,!0))}var Me=this.get_object_meta_value(e,"orientation",!1);if("grid"==Me)var Ce=this.get_field_value_fallback(e.type,u,"class_orientation_wrapper",[]),Ee=this.get_field_value_fallback(e.type,u,"class_orientation_row",[]),Pe=Ce.join(" "),De=this.column_class_array(e,"orientation_breakpoint"),Te=(De=Ee.concat(De)).join(" ");le.attributes="";var Ie=$.extend(!0,[],this.get_field_value_fallback(e.type,u,"mask_field_label_attributes",[]));if(i)Ie=d.filter(function(e){return-1!=Ie.indexOf(e)});if(Ie.length>0){we=this.get_attributes(e,Ie,!1,a);le.attributes+=we.attributes,Ie=we.mask_attributes}var Ne="",qe=this.get_object_value(p,"data_source",!1),ze=0,Re=!1!==qe;if(Re){if(void 0===qe.type)Re=!1;else var Ae=qe.type;if(void 0===qe.id)Re=!1;else var Le=qe.id}if(Re){switch(Ae){case"data_grid":var Ye=this.get_object_meta_value(e,Le,!1)}if(!1===Ye&&(Re=!1),void 0===Ye.columns)Re=!1;else var Ue=Ye.columns}if(Re){var He=this.get_field_value_fallback(e.type,u,"mask_group",""),Je=this.get_field_value_fallback(e.type,u,"mask_group_wrapper",""),Ve=this.get_field_value_fallback(e.type,u,"mask_group_label",""),Ge=this.get_field_value_fallback(e.type,u,"mask_group_always",!1),Ze=this.get_field_value_fallback(e.type,u,"mask_row",""),Be=this.get_field_value_fallback(e.type,u,"mask_row_placeholder",""),Xe=this.get_field_value_fallback(e.type,u,"mask_row_field",""),Qe=this.get_field_value_fallback(e.type,u,"mask_row_label",""),Ke=this.get_field_value_fallback(e.type,u,"mask_row_lookups",[]),et=this.get_field_value_fallback(e.type,u,"datagrid_column_value",!1),tt=this.get_field_value_fallback(e.type,u,"mask_row_default",""),it=this.get_field_value_fallback(e.type,u,"mask_row_required"," required data-required"),at=this.get_field_value_fallback(e.type,u,"mask_row_disabled"," disabled"),rt=(this.get_field_value_fallback(e.type,u,"mask_row_visible"," visible"),this.get_object_meta_value(e,"data_grid_rows_randomize","",!1,!0)),st=this.get_object_meta_value(e,"placeholder_row","",!1,!0),_t=this.get_object_meta_value(e,"multiple","",!1,!0);if(""!=st&&!_t){var ot=$.extend(!0,{},X);ot.value=st,Ne+=this.mask_parse(Be,ot)}s&&"object"!=typeof t&&(t=[t]);var lt=[];for(var nt in Ke)if(Ke.hasOwnProperty(nt)){var ct=Ke[nt];if(!1===(Dt=this.get_object_meta_value(e,ct,!1,!1,!0))){if(void 0===$.WS_Form.meta_keys[ct])continue;var dt;(Dt=void 0!==(dt=$.WS_Form.meta_keys[ct]).d?dt.d:0)>Ue.length&&(Dt=0)}var pt=!1;for(var ft in Ue){if(Ue.hasOwnProperty(ft))if(Ue[ft].id==Dt){pt=ft;break}}pt&&(lt[ct]=pt)}var ut=!1;if(!1!==Se){pt=!1;for(var ft in Ue){if(Ue.hasOwnProperty(ft))if(Ue[ft].id==Se){ut=ft;break}}}if(void 0===Ye.groups)return this.error("error_data_source_groups"),"";var ht=Ye.groups;ht.length;for(var mt in rt&&(ht=this.array_randomize(ht)),ht)if(ht.hasOwnProperty(mt)){var vt=$.extend(!0,{},X);vt.group_id=this.form_id_prefix+"datagrid-"+e.id+"-group-"+mt+o;var bt=ht[mt];if(void 0===bt.label)return this.error("error_data_group_label"),"";switch(e.type){case"select":case"price_select":var gt=!0;break;default:gt=void 0===bt.label_render||bt.label_render}if(gt){var yt=$.extend(!0,{},X);yt.group_label=this.html_encode(bt.label),yt.label_row_id=this.form_id_prefix+"label-"+e.id+"-group-"+mt+o,vt.group_label=this.mask_parse(Ve,yt)}else vt.group_label="";vt.disabled=void 0!==bt.disabled&&"on"==bt.disabled?" disabled":"";var kt=void 0!==bt.mask_group&&"on"==bt.mask_group||Ge;kt&&y&&(g="");var wt="";if(void 0!==bt.rows){var $t=JSON.parse(JSON.stringify(bt.rows)),St=this.get_object_meta_value(e,"select_all","");if(("checkbox"==e.type||"price_checkbox"==e.type)&&"on"==St){var Ft=!1,xt=!1;for(var ct in lt)if(lt.hasOwnProperty(ct)){var Wt=lt[ct];if("checkbox_field_value"==ct)Ft=Wt;if("checkbox_field_label"==ct)xt=Wt;if("checkbox_price_field_value"==ct)Ft=Wt;if("checkbox_price_field_label"==ct)xt=Wt}St={id:0,default:"",required:"",hidden:"",disabled:"",select_all:!0,data:[]};var jt=this.get_object_meta_value(e,"select_all_label","");""==jt&&(jt=this.language("select_all_label")),St.data[Ft]=jt,St.data[xt]=jt,$t.unshift(St)}for(var Ot in rt&&($t=this.array_randomize($t)),$t)if($t.hasOwnProperty(Ot)){var Mt=$t[Ot],Ct=!1;if(!1!==ut)Ct=void 0!==Mt.data[ut]&&Mt.data[ut];var Et=!ue||Ot==$t.length-1,Pt=$.extend(!0,{},X);for(var ct in lt)if(lt.hasOwnProperty(ct)){pt=lt[ct];if(void 0!==Mt.data[pt]){var Dt=Mt.data[pt];Dt=this.parse_variables_process(Dt.toString(),a,!1,e,"data_grid_row",_).output;switch(Pt[ct+"_html"]=this.html_encode(Dt),e.type){case"range":case"price_range":var Tt=this.get_object_meta_value(e,"min",0);(""==Tt||isNaN(Tt))&&(Tt=0);var It=this.get_object_meta_value(e,"max",100);(""==It||isNaN(It))&&(It=100);var Nt=this.get_number(Dt,!0),qt=parseFloat(It)-parseFloat(Tt),zt=qt>0?(Nt-Tt)/qt*100:0;Pt[ct+"_percentage"]=zt,-1!==ct.indexOf("_field_percentage")&&(Pt.data_grid_row_value_percentage=zt)}var Rt=!1;if(void 0!==$.WS_Form.meta_keys[ct]){var At=$.WS_Form.meta_keys[ct];void 0!==At.h&&At.h&&(Dt=this.html_encode(Dt));Rt=void 0!==At.pr&&At.pr}if(Rt){var Lt=this.get_number(Dt),Yt=ct+"_currency",Ut=this.get_price(Lt);Pt[Yt]=Ut,Pt[ct]=Lt,-1!==ct.indexOf("_price_field_price")&&(Pt.data_grid_row_price=Lt),-1!==Yt.indexOf("_price_field_price_currency")&&(Pt.data_grid_row_price_currency=Ut)}else Pt[ct]=Dt;-1!==ct.indexOf("_field_value")&&(Pt.data_grid_row_value=Dt),-1!==ct.indexOf("_field_parse_variable")&&(Pt.data_grid_row_action_variable=Dt),-1!==ct.indexOf("_field_label")&&(Pt.data_grid_row_label=Dt),-1!==ct.indexOf("_field_wc")&&(Pt.data_grid_row_woocommerce_cart=Dt)}}void 0!==p.mask_row_value&&(Pt.row_value=this.mask_parse(p.mask_row_value,Pt)),void 0!==p.mask_row_price&&(Pt.row_price=this.mask_parse(p.mask_row_price,Pt)),Pt.row_id=this.form_id_prefix+"field-"+e.id+"-row-"+Mt.id+o,Pt.data_id=Mt.id;var Ht=$.extend(!0,{},Pt),Jt=$.extend(!0,{},Pt);Jt.label_id=this.form_id_prefix+"label-"+e.id+o,Jt.label_row_id=this.form_id_prefix+"label-"+e.id+"-row-"+Mt.id+o;var Vt=[];(!s&&Mt.default||s&&!1!==et&&t.indexOf(Pt[et])>-1||s&&void 0!==Pt.row_value&&t.indexOf(Pt.row_value)>-1)&&(Vt.default=tt),Mt.disabled&&(Vt.disabled=at),Mt.required&&(Vt.required=it),Vt.dedupe_value_scope=P,Vt.hidden_bypass=D,Vt.ecommerce_calculation_persist=E,Pt.attributes=$e,Jt.attributes="",Ht.attributes="";var Gt=$.extend(!0,[],Vt);if(!i){var Zt="horizontal"==Me&&this.get_field_value_fallback(e.type,u,"class_inline",!1);!1!==Zt&&(Gt.class=Zt.join(" "));var Bt=this.get_field_value_fallback(e.type,u,"class_row",!1);if(!1!==Bt&&(Gt.class=!1!==Zt?Gt.class+" "+Bt.join(" "):Bt.join(" ")),Mt.disabled){var Xt=this.get_field_value_fallback(e.type,u,"class_row_disabled",!1);!1!==Xt&&(Gt.class+=" "+Xt.join(" "))}}var Qt=$.extend(!0,[],this.get_field_value_fallback(e.type,u,"mask_row_attributes",[]));if(Qt.length>0){we=this.get_attributes(e,Qt,Gt,a);Pt.attributes+=" "+we.attributes}if(!1!==Ct&&(Pt.attributes+=' data-cascade-value="'+this.html_encode(Ct)+'"'),void 0!==Mt.hidden&&Mt.hidden&&!i)switch(e.type){case"select":continue;default:Pt.attributes+=' style="display:none;"'}"grid"==Me&&""!=Te&&(Pt.attributes=this.attribute_modify(Pt.attributes,"class",Te,!0));Gt=$.extend(!0,[],Vt);var Kt=this.get_field_value_fallback(e.type,u,"class_row_field_label",!1);!1!==Kt&&(Gt.class=Kt.join(" "));var ei=$.extend(!0,[],this.get_field_value_fallback(e.type,u,"mask_row_label_attributes",[]));if(i)ei=d.filter(function(e){return-1!=ei.indexOf(e)});if(ei.length>0){we=this.get_attributes(e,ei,Gt,a);Jt.attributes+=" "+we.attributes}Gt=$.extend(!0,[],Vt);var ti=this.get_field_value_fallback(e.type,u,"class_row_field",!1);!1!==ti&&(Gt.class=ti.join(" ")),i||""==q||(Gt.class+=" "+$.trim(q)),Gt.aria_labelledby=Jt.label_row_id,(!s&&Mt.default||s&&!1!==et&&t.indexOf(Pt[et])>-1)&&(Gt.default=tt),Mt.disabled&&(Gt.disabled=at),Mt.required&&(Gt.required=it),Gt.required_row=r.required;var ii=$.extend(!0,[],this.get_field_value_fallback(e.type,u,"mask_row_field_attributes",[]));if(i)ii=c.filter(function(e){return-1!=ii.indexOf(e)});if(ii.length>0){we=this.get_attributes(e,ii,Gt,a);Ht.attributes+=" "+we.attributes}if(""!=Ht.attributes&&(Ht.attributes=" "+Ht.attributes),void 0!==Mt.select_all&&(Ht.attributes+=" data-select-all"),fe&&!ue)if(me=this.form_id_prefix+"invalid-feedback-"+e.id+"-row-"+Mt.id+o,he.invalid_feedback_id=me,fe)ye=this.mask_parse(F,he);else ye="";Ht.invalid_feedback=Et?ye:"",Jt.invalid_feedback=Et?ye:"";var ai=this.mask_parse(Xe,Ht);Jt.row_field=ai,Pt.row_field=ai;var ri=this.mask_parse(Qe,Jt);Pt.row_label=ri,wt+=this.mask_parse(Ze,Pt),ze++}}if(""!=Je){var si={group:wt};"grid"==Me&&""!=Pe&&(si.attributes=' class="'+Pe+'"'),wt=this.mask_parse(Je,si)}!1!==He&&kt?(vt.group=wt,Ne+=this.mask_parse(He,vt)):Ne+=wt}}if(X.datalist=ze>0?Ne:"",ke.length>0){Gt=[];void 0!==vt&&void 0!==vt.group_id&&ze>0&&(Gt.list=vt.group_id),""===this.get_object_meta_value(e,"aria_label",!1,!1,!0)&&(f&&-1!==g.indexOf("#attributes")?Gt.aria_labelledby=this.form_id_prefix+"label-"+e.id+o:Gt.aria_label=e.label),""!==de&&(Gt.aria_describedby=ce),!1!==(z=this.get_field_value_fallback(e.type,u,"class_field",!1))&&(Gt.class=z.join(" ")),""!=q&&(Gt.class+=" "+$.trim(q)),""!=(we=this.get_attributes(e,ke,Gt,a)).attributes&&(X.attributes+=" "+we.attributes)}if(Ie.length>0){Gt=[];var _i=this.get_field_value_fallback(e.type,u,"class_field_label",!1);!1!==_i&&(Gt.class=_i.join(" ")),""!=(we=this.get_attributes(e,Ie,Gt,a)).attributes&&(le.attributes+=" "+we.attributes)}if(ne.help_append_separator=""!=de?this.mask_parse(S,ne):"",""!=w)var oi=this.mask_parse(w,ne);else oi="";ne.help_append=oi;var li=""!=de||""!=oi?this.mask_parse(k,ne):"";if(X.help=li,le.help=li,""!=X.attributes&&(X.attributes=" "+X.attributes.trim()),""!=le.attributes&&(le.attributes=" "+le.attributes.trim()),""!==I||""!==N){var ni=$.extend(!0,{},X);ni.invalid_feedback=X.invalid_feedback,ni.help=X.help,X.invalid_feedback="",X.help=""}var ci=this.mask_parse(v,X),di=this.mask_parse(g,le);if(""!==I||""!==N){var pi=this.get_field_value_fallback(e.type,u,"col_small_prepend_factor",!1),fi=this.get_field_value_fallback(e.type,u,"col_small_append_factor",!1);if(!1!==pi&&!1!==fi){var ui=""!==I?Math.round(V*pi,0):0;ni.col_small_prepend=ui;var hi=""!==N?Math.round(V*fi,0):0;ni.col_small_append=hi,ni.col_small_field=V-(ui+hi)}ni.field=ci;var mi=this.get_field_value_fallback(e.type,u,"mask_field_input_group_field","#field");if(""!==mi&&(ci=this.mask_parse(mi,ni)),""!==I){ni.prepend=I;var vi=this.get_field_value_fallback(e.type,u,"mask_field_input_group_prepend","#prepend");if(""!==vi)ci=this.mask_parse(vi,ni)+ci}if(""!==N){ni.append=N;var bi=this.get_field_value_fallback(e.type,u,"mask_field_input_group_append","#append");if(""!==bi)ci+=this.mask_parse(bi,ni)}var gi=this.get_field_value_fallback(e.type,u,"mask_field_input_group","#field"),yi=[];""!==I&&yi.push("wsf-input-group-has-prepend"),""!==N&&yi.push("wsf-input-group-has-append");var ki=yi.join(" ");ki&&(ki=" "+ki),ni.css_input_group=ki,ni.field=ci,ci=this.mask_parse(gi,ni)}if(-1!==g.indexOf("#field")&&(le.field=ci,di=this.mask_parse(g,le),ci="",le.field=""),-1!==v.indexOf("#label")&&(X.label=di,ci=this.mask_parse(v,X),di="",X.label=""),""!=ci&&!h){var wi=this.get_field_value_fallback(e.type,u,"mask_field_wrapper",!1);if(!1!==wi){var $i={field:ci};ci=this.mask_parse(wi,$i)}}if(""!=di&&!h){var Si=this.get_field_value_fallback(e.type,u,"mask_field_label_wrapper",!1);if(!1!==Si){var Fi={label:di};di=this.mask_parse(Si,Fi)}}switch(e="",u){case"bottom":case"right":e+=ci+di;break;default:e+=di+ci}return X.field=e,this.mask_parse(m,X)},$.WS_Form.prototype.field_type_meta_keys=function(e,t){if(void 0===t)t=!1;var i=[],a=e.fieldsets;for(var r in a)if(a.hasOwnProperty(r)){var s=a[r];if(void 0!==s.meta_keys)for(var r in s.meta_keys)if(s.meta_keys.hasOwnProperty(r)){var _=s.meta_keys[r];if(t){if(void 0===$.WS_Form.meta_keys[_])continue;var o=$.WS_Form.meta_keys[_];void 0!==o[t]&&o[t]&&i.push(_)}else i.push(_)}if(void 0!==s.fieldsets){var l=this.field_type_meta_keys(s,t);l.length>0&&(i=i.concat(l))}}return i},$.WS_Form.prototype.attribute_modify=function(e,t,i,a){var r=!1,s="";return $("<div "+e+" />").each(function(){$.each(this.attributes,function(){if(this.specified){var e=this.name,_=this.value;e==t&&(a?_+=" "+i:_=i,_.trim(),r=!0),s+=" "+e,""!==_&&(s+='="'+_+'"')}})}),r||(s+=" "+t,""!==i&&(s+='="'+i+'"')),s},$.WS_Form.prototype.form_input_range=function(e){var t=this;if(void 0===e)e=this.form_canvas_obj;$('input[type="range"]:not([data-init-input-range])',e).each(function(){t.form_input_range_render($(this))&&($(this).attr("data-init-input-range",""),$(this).on("input change",function(){t.form_input_range_render($(this))}))})},$.WS_Form.prototype.form_input_range_render=function(e){var t=e.attr("id"),i=e.closest("[data-type]"),a=i.attr("data-id"),r=i.attr("data-repeatable-index"),s=void 0!==r?"-repeat-"+r:"",_=this.field_data_cache[a],o=this.get_object_meta_value(_,"help","",!1,!0);if(void 0!==e.attr("data-fill-lower-track")){var l=parseFloat(e[0].min||"0"),n=parseFloat(e[0].max||"100"),c=parseFloat(e[0].value||l),d=n-l,p=d>0?(c-l)/d*100+"%":"0%";$("#"+t).get(0).style.setProperty("--fill-lower-track",p),!0}if(-1!==o.indexOf("#value")){var f={value:e.val()},u=this.mask_parse(o,f),h=this.form_id_prefix+"help-"+a+s;$("#"+h).html(u),!0}return!0},$.WS_Form.prototype.set_invalid_feedback=function(e,t,i,a,r){if(void 0===r)r=0;e.length&&e[0].willValidate&&(e[0].setCustomValidity(i),this.validation_message_cache[a]=i),t.length&&(void 0===this.invalid_feedback_cache[a]&&(this.invalid_feedback_cache[a]=[]),""==i?void 0!==this.invalid_feedback_cache[a][r]&&t.html(this.invalid_feedback_cache[a]):(void 0===this.invalid_feedback_cache[a][r]&&(this.invalid_feedback_cache[a][r]=t.html()),t.html(i)))},$.WS_Form.prototype.get_attributes=function(e,t,i,a){if("object"!=typeof i)i=!1;var r=[],s=[];if(!1!==t)for(var _ in t)if(t.hasOwnProperty(_)){var o=t[_];if(void 0!==$.WS_Form.meta_keys[o]){var l=$.WS_Form.meta_keys[o];if(this.is_admin)var n=void 0!==l.mask?l.mask:"",c=void 0!==l.mask_disregard_on_empty&&l.mask_disregard_on_empty,d=void 0!==l.mask_disregard_on_zero&&l.mask_disregard_on_zero,p=void 0!==l.default?l.default:"";else n=void 0!==l.m?l.m:"",c=void 0!==l.e&&l.e,d=void 0!==l.z&&l.z,p=void 0!==l.d?l.d:"";if(!1!==i)if(void 0!==i[o])var f=i[o].trim();else f="";else{if(this.is_admin)var u=void 0!==l.key?l.key:o;else u=void 0!==l.k?l.k:o;var h=void 0!==l.c&&l.c;if(!1!==h){f=this.get_object_meta_value(e,u,p,!1,!1);f=this.parse_variables_process(f,a,!1,e,h).output}else f=this.get_object_meta_value(e,u,p,!1,!0);s[u]=f}f=this.html_encode(f);var m=this.mask_parse(n,{value:f});(c&&""!=f||!c)&&(d&&0!=parseInt(f,10)||!d)&&(r.push(m),delete t[_])}}return t=$.grep(t,function(e){return 0==e||e}),{attributes:r.join(" "),mask_attributes:t,attribute_values:s}},$.WS_Form.prototype.get_tel=function(e){return e.replace(/[^+\d]+/g,"")},$.WS_Form.prototype.get_number=function(e,t,i,a){if(void 0===t&&(t=0),void 0===i&&(i=!0),void 0===a&&(a=!1),"number"==typeof e&&(e=e.toString()),"string"!=typeof e)return 0;if(e=$.trim(e),i){var r=$.WS_Form.settings_plugin.price_decimal_separator,s=$.WS_Form.settings_plugin.price_thousand_separator,_=new RegExp("[^0-9-"+r+"]","g");if(e=e.replace(_,""),r===s){if(e.substr(-3,1)===r){var o=e.length-3;e=e.substr(0,o)+"[dec]"+e.substr(o+1)}e=(e=e.replace(s,"")).replace("[dec]",".")}else e=e.replace(r,".")}var l=""===$.trim(e)?t:isNaN(e)?t:parseFloat(e);return!1!==a&&(l=this.get_number_rounded(parseFloat(l),a)),l},$.WS_Form.prototype.get_number_rounded=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)},$.WS_Form.prototype.get_number_to_step=function(e,t){t||(t=1);var i=1/t;return Math.round(e*i)/i},$.WS_Form.prototype.get_currency=function(){var e={},t=parseInt($.WS_Form.settings_plugin.price_decimals,10);switch(e.prefix=ws_form_settings.currency_symbol,e.suffix="",$.WS_Form.settings_plugin.currency_position){case"right":e.prefix="",e.suffix=ws_form_settings.currency_symbol;break;case"left_space":e.prefix=ws_form_settings.currency_symbol+" ";break;case"right_space":e.prefix="",e.suffix=" "+ws_form_settings.currency_symbol}return e.decimals=t<0?0:t,e.decimal_separator=$.WS_Form.settings_plugin.price_decimal_separator,e.thousand_separator=$.WS_Form.settings_plugin.price_thousand_separator,e},$.WS_Form.prototype.get_price=function(e,t,i){if(void 0===t)t=this.get_currency();if(void 0===i)i=!0;return"number"!=typeof e&&(e=parseFloat(e)),(i?t.prefix:"")+this.replace_all(this.replace_all(e.toFixed(t.decimals).replace(/\B(?=(\d{3})+(?!\d))/g,"[thousand]"),".",t.decimal_separator),"[thousand]",t.thousand_separator)+(i?t.suffix:"")},$.WS_Form.prototype.input_insert_text=function(e,t){switch(e.attr("data-meta-key-type")){case"text_editor":tinymce.activeEditor.execCommand("mceInsertContent",!1,t);break;case"html_editor":var i=$(".CodeMirror")[0].CodeMirror,a=i.getDoc(),r=a.getCursor();a.replaceRange(t,r);var s=i.getValue(),_=i.getTextArea();$(_).val(s).trigger("keyup");break;default:var o=e[0].selectionStart,l=e[0].selectionEnd,n=e.val();e.val(n.substring(0,o)+t+n.substring(l)),e.focus();var c=o+t.length;null!==e.prop("selectionStart")&&e.prop("selectionStart",c),null!==e.prop("selectionEnd")&&e.prop("selectionEnd",c)}},$.WS_Form.prototype.input_insert_function=function(e,t,i,a){if(void 0===i)i=!1;var r=e.val(),s=""==r,_=e.attr("data-meta-key-type");if(!i||s){if(-1===(g=t.indexOf("(")))o=0,a=!1;else{y=t.substring(g);var o=(b=g+this.get_bracket_finish_index(y))-g-1}switch(_){case"text_editor":if(tinymce.activeEditor.execCommand("mceInsertContent",!1,t),s){var l=tinymce.activeEditor.selection.getNode();tinymce.activeEditor.selection.setCursorLocation(l.firstChild,t.length-1)}break;case"html_editor":var n=$(".CodeMirror")[0].CodeMirror,c=n.getDoc(),d=c.getCursor();c.replaceRange(t,d);var p=n.getValue(),f=n.getTextArea();$(f).val(p).trigger("keyup"),(d=c.getCursor()).ch--,n.focus(),c.setCursor(d);break;default:var u=e[0].selectionStart,h=e[0].selectionEnd,m=e.val();e.val(m.substring(0,u)+t+m.substring(h)),e.focus();k=u+t.length-(a?1:0);null!==e.prop("selectionStart")&&e.prop("selectionStart",k-(a?o:0)),null!==e.prop("selectionEnd")&&e.prop("selectionEnd",k)}}else{var v=r.indexOf(t.slice(0,-1));if(-1!==v){var b,g=v+t.length-2,y=r.substring(g);if(-1!==(b=this.get_bracket_finish_index(y))){var k=g+b;switch(_){case"text_editor":case"html_editor":break;default:e.focus(),null!==e.prop("selectionStart")&&e.prop("selectionStart",k),null!==e.prop("selectionEnd")&&e.prop("selectionEnd",k)}}}}},$.WS_Form.prototype.input_delete=function(e){switch(e.attr("data-meta-key-type")){case"text_editor":var t=tinymce.activeEditor.selection.getRng();if(0==t.endOffset)break;var i=t.commonAncestorContainer,a=document.createRange();a.selectNodeContents(i),a.setStart(i,t.endOffset-1),a.setEnd(i,t.endOffset),a.deleteContents(),tinymce.activeEditor.focus();break;case"html_editor":var r=$(".CodeMirror")[0].CodeMirror,s=r.getDoc(),_=$.extend(!0,{},s.getCursor()),o=$.extend(!0,{},s.getCursor());_.ch=_.ch-1,o.ch=o.ch,s.replaceRange("",_,o),r.focus(),s.setCursor(_);break;default:var l=e[0].selectionStart,n=e.val();e.val(n.substring(0,l-1)+n.substring(l-0)),e.focus();var c=l-1;null!==e.prop("selectionStart")&&e.prop("selectionStart",c),null!==e.prop("selectionEnd")&&e.prop("selectionEnd",c)}},$.WS_Form.prototype.input_clear=function(e){switch(e.attr("data-meta-key-type")){case"text_editor":tinymce.activeEditor.setContent(""),tinymce.activeEditor.focus();break;case"html_editor":var t=$(".CodeMirror")[0].CodeMirror;t.setValue(""),t.focus();t.getValue();var i=t.getTextArea();$(i).val("").trigger("keyup");break;default:e.val(""),e.focus()}},$.WS_Form.prototype.menu_highlight=function(e){if(void 0===e)e="ws-form";$("#toplevel_page_"+e).removeClass("wp-not-current-submenu").addClass("wp-has-current-submenu current").addClass("selected"),$('[href="admin.php?page='+e+'"]',$("#toplevel_page_"+e)).closest("li").addClass("wp-menu-open current")},$.WS_Form.prototype.get_plugin_website_url=function(e,t){if(void 0===e)e="";return"https://wsform.com"+e+"?utm_source=ws_form_pro"+(void 0===t?"":"&utm_medium="+t)},$.WS_Form.prototype.form_add_hidden_input=function(e,t,i,a,r){var s=$('input[name="'+e+'"]',this.form_canvas_obj);if(s.length&&-1===e.indexOf("[]"))s.val(t);else{if(void 0===t)t="";if(void 0===i)i=!1;if(void 0===a)a=!1;if(void 0===r)r=!1;this.form_canvas_obj.append('<input type="hidden" name="'+e+'" value='+(r?"'":'"')+t+(r?"'":'"')+(!1!==i?' id="'+i+'"':"")+(!1!==a?" "+a:"")+" />")}},$.WS_Form.prototype.mod_security_fix=function(e){var t=this.replace_all(e,"#","~WSF%23~");return t=this.replace_all(t,"<","~WSF%60~"),t=this.replace_all(t,">","~WSF%62~"),t=this.replace_all(t,"SELECT","~WSFTCELES~"),t=this.replace_all(t,"select","~WSFtceles~"),t=this.replace_all(t,"Select","~WSFtceleS~"),t=this.replace_all(t,"style","~WSFelyts~"),t=this.replace_all(t,"STYLE","~WSFELYTS~"),t=this.replace_all(t,"src","~WSFcrs~"),t=this.replace_all(t,"SRC","~WSFCRS~"),t=this.replace_all(t,"xmlns","~WSFsnlmx~"),t=this.replace_all(t,"XMLNS","~WSFSNLMX~"),t=this.replace_all(t,"object_id","~WSFid_tcejbo~")},$.WS_Form.prototype.wpautop=function(e,t){void 0===t&&(t=!0);var i=new Map;if(""===e.trim())return"";if((e+="\n").indexOf("<pre")>-1){var a=e.split("</pre>"),r=a.pop();e="",a.forEach(function(t,a){var r=t.indexOf("<pre");if(-1!==r){var s="<pre wp-pre-tag-"+a+"></pre>";i[s]=t.substr(r)+"</pre>",e+=t.substr(0,r)+s}else e+=t}),e+=r}var s="(?:table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary)";(e=(e=(e=(e=e.replace(/<br \/>\s*<br \/>/,"\n\n")).replace(new RegExp("(<"+s+"[^>]*>)","gmi"),"\n$1")).replace(new RegExp("(</"+s+">)","gmi"),"$1\n\n")).replace(/\r\n|\r/,"\n")).indexOf("<option")>-1&&(e=(e=e.replace(/\s*<option'/gim,"<option")).replace(/<\/option>\s*/gim,"</option>")),e.indexOf("</object>")>-1&&(e=(e=(e=e.replace(/(<object[^>]*>)\s*/gim,"$1")).replace(/\s*<\/object>/gim,"</object>")).replace(/\s*(<\/?(?:param|embed)[^>]*>)\s*/gim,"$1")),(e.indexOf("<source")>-1||e.indexOf("<track")>-1)&&(e=(e=(e=e.replace(/([<\[](?:audio|video)[^>\]]*[>\]])\s*/gim,"$1")).replace(/\s*([<\[]\/(?:audio|video)[>\]])/gim,"$1")).replace(/\s*(<(?:source|track)[^>]*>)\s*/gim,"$1"));var _=(e=e.replace(/\n\n+/gim,"\n\n")).split(/\n\s*\n/);return e="",_.forEach(function(t){e+="<p>"+t.replace(/^\s+|\s+$/g,"")+"</p>\n"}),e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<p>\s*<\/p>/gim,"")).replace(/<p>([^<]+)<\/(div|address|form)>/gim,"<p>$1</p></$2>")).replace(new RegExp("<p>s*(</?"+s+"[^>]*>)s*</p>","gmi"),"$1",e)).replace(/<p>(<li.+?)<\/p>/gim,"$1")).replace(/<p><blockquote([^>]*)>/gim,"<blockquote$1><p>")).replace(/<\/blockquote><\/p>/gim,"</p></blockquote>")).replace(new RegExp("<p>s*(</?"+s+"[^>]*>)","gmi"),"$1")).replace(new RegExp("(</?"+s+"[^>]*>)s*</p>","gmi"),"$1"),t&&(e=(e=(e=e.replace(/<(script|style)(?:.|\n)*?<\/\\1>/gim,function(e){return e[0].replace("\n","<WPPreserveNewline />")})).replace(/(<br \/>)?\s*\n/gim,"<br />\n")).replace("<WPPreserveNewline />","\n")),e=(e=(e=e.replace(new RegExp("(</?"+s+"[^>]*>)s*<br />","gmi"),"$1")).replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)/gim,"$1")).replace(/\n<\/p>$/gim,"</p>"),Object.keys(i).length&&(e=e.replace(new RegExp(Object.keys(i).join("|"),"gi"),function(e){return i[e]})),e},$.WS_Form.prototype.get_part_id=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i="field");var a=!1!==t?"-repeat-"+t:"";return this.form_id_prefix+i+"-"+e+a},$.WS_Form.prototype.get_field_name=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);return this.field_name_prefix+e+(!1!==t?i?"_"+t:"["+t+"]":"")},$.WS_Form.prototype.get_section_repeat_min=function(e){var t=this.get_object_meta_value(e,"section_repeat_min",1);return(t=""==t||isNaN(t)?1:parseInt(t,10))<1&&(t=1),t},$.WS_Form.prototype.get_section_repeat_max=function(e,t){if(void 0===t)t=this.get_section_repeat_min(e);var i=this.get_object_meta_value(e,"section_repeat_max",!1);return!1!==(i=""!=i&&!isNaN(t)&&parseInt(i,10))&&i<t&&(t=i),i},$.WS_Form.prototype.get_section_repeat_default=function(e,t,i){if(void 0===t)t=this.get_section_repeat_min(e);if(void 0===i)i=this.get_section_repeat_max(e,t);var a=this.get_object_meta_value(e,"section_repeat_default",1);return(a=""==a||isNaN(a)?1:parseInt(a,10))<t&&(a=t),!1!==i&&a>i&&(a=i),a},$.WS_Form.prototype.drag_is_file=function(e){return void 0===e.originalEvent||void 0===e.originalEvent.dataTransfer||void 0===e.originalEvent.dataTransfer.types||e.originalEvent.dataTransfer.types.includes("Files")},$.WS_Form.prototype.get_date=function(e,t,i){switch(t||(t="date"),i||(i=ws_form_settings.date_format),t){case"time":return e="01/01/1970 "+e,new Date(e);case"week":case"month":return!1}switch(i){case"d/m/Y":switch(t){case"datetime-local":var a=e.indexOf(" "),r=e.substring(0,a),s=e.substring(a);break;default:r=e,s=""}var _=r.split("/");if(3===_.length){var o=parseInt(_[0],10);r=parseInt(_[1],10)+"/"+o+"/"+parseInt(_[2],10)}e=r+s}return e=e.replace(/(\d+)(st|nd|rd|th)/g,"$1"),new Date(e)},$.WS_Form.prototype.debug_timer_start=function(){this.debug_timer=performance.now()},$.WS_Form.prototype.debug_timer_console=function(e){console.log(e+": "+(performance.now()-this.debug_timer)+" ms")},$.WS_Form.prototype.score=function(e,t,i){if(e===t)return 1;if(""===t)return 0;var a,r,s,_,o,l=0,n=e,c=n.toLowerCase(),d=n.length,p=t.toLowerCase(),f=t.length,u=0,h=1;if(i&&(_=1-i),i)for(o=0;o<f;o+=1)-1===(s=c.indexOf(p[o],u))?h+=_:(u===s?a=.7:(a=.1," "===n[s-1]&&(a+=.8)),n[s]===t[o]&&(a+=.1),l+=a,u=s+1);else for(o=0;o<f;o+=1){if(-1===(s=c.indexOf(p[o],u)))return 0;u===s?a=.7:(a=.1," "===n[s-1]&&(a+=.8)),n[s]===t[o]&&(a+=.1),l+=a,u=s+1}return r=.5*(l/d+l/f)/h,p[0]===c[0]&&r<.85&&(r+=.15),r},$.WS_Form.prototype.replace_all=function(e,t,i){return void 0===i?e.toString():e.split(t).join(i)},$.WS_Form.prototype.date_format=function(e,t){var i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_={d:function(){var e=this.getDate();return(e<10?"0":"")+e},D:function(){return r[this.getDay()]},j:function(){return this.getDate()},l:function(){return s[this.getDay()]},N:function(){var e=this.getDay();return 0===e?7:e},S:function(){var e=this.getDate();return e%10==1&&11!==e?"st":e%10==2&&12!==e?"nd":e%10==3&&13!==e?"rd":"th"},w:function(){return this.getDay()},z:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil((this-e)/864e5)},W:function(){var e=new Date(this.valueOf()),t=(this.getDay()+6)%7;e.setDate(e.getDate()-t+3);var i=e.valueOf();e.setMonth(0,1),4!==e.getDay()&&e.setMonth(0,1+(4-e.getDay()+7)%7);var a=1+Math.ceil((i-e)/6048e5);return a<10?"0"+a:a},F:function(){return a[this.getMonth()]},m:function(){var e=this.getMonth();return(e<9?"0":"")+(e+1)},M:function(){return i[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var e=this.getFullYear(),t=this.getMonth()+1;return 12===t&&(e=e++,t=0),new Date(e,t,0).getDate()},L:function(){var e=this.getFullYear();return e%400==0||e%100!=0&&e%4==0},o:function(){var e=new Date(this.valueOf());return e.setDate(e.getDate()-(this.getDay()+6)%7+3),e.getFullYear()},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return Math.floor(1e3*((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)/24)},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){var e=this.getHours();return((e%12||12)<10?"0":"")+(e%12||12)},H:function(){var e=this.getHours();return(e<10?"0":"")+e},i:function(){var e=this.getMinutes();return(e<10?"0":"")+e},s:function(){var e=this.getSeconds();return(e<10?"0":"")+e},v:function(){var e=this.getMilliseconds();return(e<10?"00":e<100?"0":"")+e},e:function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},I:function(){for(var e=null,t=0;t<12;++t){var i=new Date(this.getFullYear(),t,1).getTimezoneOffset();if(null===e)e=i;else{if(i<e){e=i;break}if(i>e)break}}return this.getTimezoneOffset()===e|0},O:function(){var e=this.getTimezoneOffset();return(-e<0?"-":"+")+(Math.abs(e/60)<10?"0":"")+Math.floor(Math.abs(e/60))+(0===Math.abs(e%60)?"00":(Math.abs(e%60)<10?"0":"")+Math.abs(e%60))},P:function(){var e=this.getTimezoneOffset();return(-e<0?"-":"+")+(Math.abs(e/60)<10?"0":"")+Math.floor(Math.abs(e/60))+":"+(0===Math.abs(e%60)?"00":(Math.abs(e%60)<10?"0":"")+Math.abs(e%60))},T:function(){var e=this.toLocaleTimeString(navigator.language,{timeZoneName:"short"}).split(" ");return e[e.length-1]},Z:function(){return 60*-this.getTimezoneOffset()},c:function(){return this.format("Y-m-d\\TH:i:sP")},r:function(){return this.toString()},U:function(){return Math.floor(this.getTime()/1e3)}};return t.replace(/(\\?)(.)/g,function(t,i,a){return""===i&&_[a]?_[a].call(e):a})}}(jQuery);